

<ion-content>



  <div class="m-ionic-channel--header" *ngIf="channel">

    <div class="m-ionic-channel--header-banner">
      <img
          #banner
         [src]="'https://www.minds.com/fs/v1/banners/' + channel.guid + '/fat/' + channel.icontime"
         (error)="banner.hide = true"
         width="100%"
         [hidden]="banner.hide"
         height="225px"
         imgFade
         >
     </div>

    <img
      class="m-ionic-channel--avatar"
      [src]="'https://www.minds.com/icon/' + channel.guid + '/large'"
      width="150px"
      height="150px"
      imgFade
      >

    <div class="m-ionic-channel--name" [class.editing]="editing.name">
      <h1 [attr.contentEditable]="editing.name" [(contenteditableModel)]="channel.name">  {{channel.name}} </h1>
      <ion-icon name="create" *ngIf="!editing.name && channel.guid == this.storage.get('user_guid')" (click)="editing.name = true"></ion-icon>
      <ion-icon name="checkmark-circle" *ngIf="editing.name" (click)="editing.name = false; save({name: channel.name})"></ion-icon>
    </div>

    <div class="m-ionic-channel--stats">
      <div class="m-ionic-channel--stats-stat" *ngIf="!channel.supporters_count && channel.activity_count">
        <label>Feed</label>
        <span>{{channel.activity_count}}</span>
      </div>
      <div class="m-ionic-channel--stats-stat" *ngIf="channel.supporters_count">
        <label>Supporters</label>
        <span>{{channel.supporters_count}}</span>
      </div>
      <div class="m-ionic-channel--stats-stat">
        <label>Subscribers</label>
        <span>{{channel.subscribers_count}}</span>
      </div>
      <div class="m-ionic-channel--stats-stat">
        <label>Views</label>
        <span>{{channel.impressions}}</span>
      </div>
    </div>

  </div>

  <channel-feed [channel]="channel" #feed [loadMore]="feed.scroller"></channel-feed>

  <ion-infinite-scroll (ionInfinite)="feed.scroller = $event">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
